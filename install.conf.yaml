- defaults:
    link:
      relink: true
      create: true

- clean: ['~', '~/.config']

- create:
  - ~/.config
  - ~/.dotfiles
  - ~/Devel

- link:
    # bash
    ~/.bashrc: bash/.bashrc
    ~/.dotfiles/aliases.sh: general/aliases.sh
    ~/.dotfiles/functions.sh: bash/functions.sh

    # fish
    ~/.config/fish/config.fish: fish/config.fish
    ~/.config/fish/functions/functions.fish: fish/functions.fish
    ~/.config/fish/conf.d/nix-env.fish: fish/nix-env.fish/conf.d/nix-env.fish

    # App configs
    ~/.config/alacritty/alacritty.yml: general/alacritty.yml
    ~/.config/starship.toml: general/starship.toml
    ~/.local/share/konsole/Main.profile: konsole/Main.profile
    ~/.local/share/konsole/GreenOnBlack.colorscheme: konsole/GreenOnBlack.colorscheme

    # OS Specific configs
    ~/.dotfiles/macos.fish: fish/os/macos.fish
    ~/.config/libinput-gestures.conf:
      path: general/libinput-gestures.conf
      if: '[ "$(uname)" = "Linux" ] && [ "$XDG_CURRENT_DESKTOP" = "KDE" ]'
    

- template:
  - ~/.gitconfig:
      source_file: git/gitconfig
      params: secrets.yml
  - ~/.ssh/config:
      source_file: ssh/config
      params: secrets.yml

- nixenv:
    packages:
      - htop
      - starship
      - rclone
      - eza # exa > 'exa' has been removed because it is unmaintained upstream.
      - bat
      - micro
      - hwinfo
      - fastfetch
      - multitail
      - ncdu